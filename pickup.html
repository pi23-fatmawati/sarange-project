<!-- lumayan bener -->
<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="sortcut icon" href="../login/assets/shortcut-icon-sarange.svg" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="stylepickup.css" />
    <title>Atur Penjemputan | Sarange</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light">
      <div class="container-fluid container-md" id="myNavbar">
        <a class="navbar-brand" href="#">
          <img src="../assets/Full Logo 3.svg" alt="" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse navbar-list"
          id="navbarSupportedContent"
        >
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item me-5">
              <a href="#">Beranda</a>
            </li>
            <li class="nav-item me-5">
              <a href="#">Jual Sampah</a>
            </li>
            <li class="nav-item me-5">
              <a href="#">Riwayat</a>
            </li>
          </ul>
          <a class="nav-link img-profile" href="#">
            <img src="../assets/profile.png" alt="" />
          </a>
        </div>
      </div>
    </nav>
    <div class="myContainer">
      <div class="mb-3" id="header-page">
        <!-- <div class="mb-3"><i class="fa-regular fa-circle-arrow-left fa-xl" style="color: black;"></i></div> -->
        <div id="container-title">
          <h4>Atur Jadwal Penjemputan</h4>
          <p>
            Pastikan sampahmu sudah siap dan kamu berada di tempat saat waktu
            penjemputan ya!
          </p>
        </div>
      </div>
      <div class="pickup-info">
        <div class="pickup-user-address">
          <div class="mb-3">
            <input
              type="text"
              class="form-control"
              placeholder="Nama"
              disabled
              id="namaInput"
            />
          </div>
          <div class="mb-3">
            <input
              type="tel"
              class="form-control"
              placeholder="Nomor Telepon"
              id="nomorTeleponInput"
            />
          </div>
          <div class="mb-3" id="pickup-address-detail">
            <h6>Alamat Penjemputan</h6>
            <div class="icon-detail">
              <div id="pin-icon">
                <i class="fa-solid fa-location-dot" style="color: black"></i>
              </div>
              <div id="address-detail">
                <div id="address-tag">Home</div>
                <textarea
                  class="form-control"
                  rows="3"
                  placeholder="Alamat"
                  id="alamatTextarea"
                ></textarea>
              </div>
            </div>
          </div>
        </div>
        <div class="pickup-date-time">
          <div class="mb-3" id="pickup-date">
            <h6>Tanggal Penjemputan</h6>
            <div class="mb-3">
              <input type="date" class="form-control" />
            </div>
          </div>
          <div class="mb-3" id="pickup-time">
            <h6>Waktu Penjemputan</h6>
            <div class="mb-3" id="times">
              <!-- <div class="mb-3" id="time">08:00</div>
                        <div class="mb-3" id="time">10:00</div>
                        <div class="mb-3" id="time">12:00</div>
                        <div class="mb-3" id="time">14:00</div>
                        <div class="mb-3" id="time">16:00</div> -->
              <button type="button" class="mb-3 btn" id="timeBtn" value="08.00">
                08:00
              </button>
              <button type="button" class="mb-3 btn" id="timeBtn" value="10.00">
                10:00
              </button>
              <button type="button" class="mb-3 btn" id="timeBtn" value="12.00">
                12:00
              </button>
              <button type="button" class="mb-3 btn" id="timeBtn" value="14.00">
                14:00
              </button>
              <button type="button" class="mb-3 btn" id="timeBtn" value="16.00">
                16:00
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="buttons">
        <button type="button" class="btn" id="backButton">Kembali</button>
        <button type="button" class="btn" id="pikcupButton">Atur Jadwal</button>
      </div>
    </div>
    <script
      src="https://kit.fontawesome.com/7d2ff4abe5.js"
      crossorigin="anonymous"
    ></script>
    <!-- <script src=""></script> -->
    <!-- Your existing HTML content -->

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Retrieve user information from local storage
        const userData = JSON.parse(localStorage.getItem("userSarange"));

        // Check if user data exists in local storage
        if (userData) {
          // Populate input fields with user information
          document.getElementById("namaInput").value = userData.nama;
          document.getElementById("nomorTeleponInput").value = userData.noHP;
          document.getElementById("alamatTextarea").value = userData.alamat;
        } else {
          // Handle the case when user data is not found in local storage
          console.error("User data not found in local storage");
        }

        // Add event listener for the Atur Jadwal button
        // document
        //   .getElementById("pikcupButton")
        //   .addEventListener("click", function () {
        //     // Retrieve selected date and time
        //     const selectedDate =
        //       document.querySelector("#pickup-date input").value;
        //     const selectedTime = document.querySelector("#timeBtn").value;

        // Perform further actions with the selected date and time (e.g., API request)
        // kuoffkan dulu
        // console.log("Selected Date:", selectedDate);
        // console.log("Selected Time:", selectedTime);
        // });
        // Add event listener for the Atur Jadwal button
        document
          .getElementById("pikcupButton")
          .addEventListener("click", function () {
            // Retrieve selected date and time
            const selectedDate =
              document.querySelector("#pickup-date input").value;
            const selectedTime = document.querySelector("#timeBtn").value;

            // Create a new object with the pickup information
            const pickupData = {
              nama: document.getElementById("namaInput").value,
              noHP: document.getElementById("nomorTeleponInput").value,
              alamat: document.getElementById("alamatTextarea").value,
              jadwal: selectedTime,
              tanggal: selectedDate,
            };

            // Retrieve the existing data from localStorage
            let existingData =
              JSON.parse(localStorage.getItem("jadwalPengiriman")) || [];

            // Add the new data to the array
            existingData.push(pickupData);

            // Save the updated array back to localStorage
            localStorage.setItem(
              "jadwalPengiriman",
              JSON.stringify(existingData)
            );

            // Perform further actions with the selected date and time (e.g., API request)
            console.log("Data Jadwal Pengiriman:", existingData);
          });

        // You can add more event listeners and functionality as needed

        // ... (your existing script)
      });
    </script>
  </body>
</html>
